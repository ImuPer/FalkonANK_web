{% extends 'base.html.twig' %}

{% block title %}
	{{ 'shop.title'|trans }}
{% endblock %}

{% block body %}
	<link rel="stylesheet" href="{{ asset('css/home.css') }}">

	<div class="general_showP">

		{% if shop_loja is not defined and shops_lojas is not defined %}
			<h3>{{ 'shop.none_found'|trans }}</h3>
		{% endif %}

		{% if shop_loja is defined and shop_loja is not null %}
			{# Une seule boutique (si disponible) #}
			<div class="container my-5">
				<div class="row justify-content-center">
					<div class="col-lg-8 col-md-10">

						<a href="{{ path('shop_products', {'id': shop_loja.getId()}) }}" class="text-decoration-none text-dark">

							<div
								class="card shadow-sm border-0 rounded-4 overflow-hidden">

								{# Image ou ic√¥ne #}
								{% if shop_loja.img is not null %}
									<img src="{{ asset('upload/images/shops/' ~ shop_loja.img) }}" class="card-img-top img-fluid" alt="{{ 'shop.image_alt'|trans }}">
								{% else %}
									<div class="bg-light text-center py-5">
										<i class="fas fa-store fa-3x text-primary"></i>
									</div>
								{% endif %}

								{# Contenu #}
								<div class="card-body p-4">
											<h5 class="card-title text-primary fw-bold">
												{{  shop_loja.getName() }}
											</h5>

											<p class="mb-1">
												<i class="fas fa-map-marker-alt me-2 text-muted"></i>
												{{  shop_loja.getCity() }}
											</p>

											<p class="mb-1">
												<i class="fas fa-location-dot me-2 text-muted"></i>
												{{  shop_loja.getAdress() }}
											</p>

											<p class="mb-1">
												<i class="fas fa-envelope me-2 text-muted"></i>
												{{  shop_loja.getEmail() }}
											</p>

											<p class="mb-1">
												<i class="fas fa-phone me-2 text-muted"></i>
												{{  shop_loja.getPhone() }}
											</p>

											<p class="mb-0">
												<i class="fas fa-clock me-2 text-muted"></i>
												{{  shop_loja.getHorario() }}
											</p>
										</div>

								{# Footer optionnel #}
								<div class="card-footer bg-white border-0 text-center pb-4">
									<span class="btn btn-outline-primary rounded-pill px-4">
										{{ 'shop.view_products_from_shop'|trans }}
									</span>
								</div>

							</div>
						</a>

					</div>
				</div>
			</div>

		{% else %}
			{# Liste de toutes les boutiques #}
			<div class="container my-5">
				<div class="row g-4">
					{% for shop in shops_lojas %}
						{% if shop.active %}
							<div class="col-12 col-md-6 col-lg-4">
								<a href="{{ path('shop_products', {'id': shop.getId()}) }}" class="text-decoration-none text-dark">

									<div
										class="card h-100 shadow-sm border-0 shop-card">

										{# Image #}
										{% if shop.img is not null %}
											<img src="{{ asset('upload/images/shops/' ~ shop.img) }}" class="card-img-top" alt="{{ 'shop.image_alt'|trans }}">
										{% else %}
											<div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
												<i class="fas fa-store fa-3x text-primary"></i>
											</div>
										{% endif %}

										{# Contenu #}
										<div class="card-body">
											<h5 class="card-title text-primary fw-bold">
												{{ shop.getName() }}
											</h5>

											<p class="mb-1">
												<i class="fas fa-map-marker-alt me-2 text-muted"></i>
												{{ shop.getCity() }}
											</p>

											<p class="mb-1">
												<i class="fas fa-location-dot me-2 text-muted"></i>
												{{ shop.getAdress() }}
											</p>

											<p class="mb-1">
												<i class="fas fa-envelope me-2 text-muted"></i>
												{{ shop.getEmail() }}
											</p>

											<p class="mb-1">
												<i class="fas fa-phone me-2 text-muted"></i>
												{{ shop.getPhone() }}
											</p>

											<p class="mb-0">
												<i class="fas fa-clock me-2 text-muted"></i>
												{{ shop.getHorario() }}
											</p>
										</div>

										{# Footer #}
										<div class="card-footer bg-white text-center border-0">
											<span class="btn btn-outline-primary btn-sm">
												{{ 'shop.view_products_from_shop'|trans }}
											</span>
										</div>
									</div>
								</a>
							</div>
						{% endif %}
					{% endfor %}
				</div>
			</div>
		{% endif %}
	</div>
{% endblock %}
